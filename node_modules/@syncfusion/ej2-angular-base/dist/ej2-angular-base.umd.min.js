/*!
*  filename: ej2-angular-base.umd.min.js
*  version : 18.4.39
*  Copyright Syncfusion Inc. 2001 - 2020. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@syncfusion/ej2-base"),require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@syncfusion/ej2-base","@angular/core"],t):t(e.ej={},e.ej2Base,e.core)}(this,function(e,t,i){"use strict";function n(e,t){t.forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(i){e.prototype.hasOwnProperty(i)&&!t.isFormBase||(e.prototype[i]=t.prototype[i])})})}function r(e,t,n){var r={};if(e&&e.length){for(var s=0,o=e;s<o.length;s++){var a=o[s];!0===n?(t.propCollection[a]=new i.EventEmitter(!1),t[a]=t.propCollection[a]):r[a]=new i.EventEmitter(!1)}!0!==n&&t.setProperties(r,!0)}}function s(e,i,n){var r=Object.keys(e.registeredTemplate);if(r.length)for(var s=i&&i.filter(function(e){return!/\./g.test(e)}),o=0,a=s&&s||r;o<a.length;o++){var l=a[o];if(n&&n.length)for(var p=0;p<n.length;p++)for(var h=0;h<e.registeredTemplate.template.length;h++){if(e.registeredTemplate.template[h].rootNodes[0]===n[p]){(g=e.registeredTemplate[l])[h].destroy()}}else for(var c=0,u=e.registeredTemplate[l];c<u.length;c++){var g;if(!(g=u[c]).destroyed){if(g._view){var f=g._view.renderer.parentNode(g.rootNodes[0]);if(!t.isNullOrUndefined(f))for(h=0;h<g.rootNodes.length;h++)f.appendChild(g.rootNodes[h])}g.destroy()}}delete e.registeredTemplate[l]}for(var d=function(e){e.instance&&e.instance.clearTemplate(i&&i.filter(function(t){return!!new RegExp(e.name).test(t)}))},v=0,m=e.tagObjects;v<m.length;v++){d(m[v])}}function o(e,i){if("string"==typeof e)return c(e,i);var n=e.elementRef.nativeElement._viewContainerRef,r=e.elementRef.nativeElement.propName;return function(i,s,o){var a={$implicit:i},l=n||s.viewContainerRef,p=l.createEmbeddedView(e,a);p.markForCheck();var h=s&&s.registeredTemplate?s.registeredTemplate:t.getValue("currentInstance.registeredTemplate",l);return o=o&&s.registeredTemplate?o:r,void 0===h[o]&&(h[o]=[]),h[o].push(p),p.rootNodes}}var a=function(){function e(){this.hasChanges=!1,this.propCollection={},this.dataSource={},this.tags=[],this.tagObjects=[]}return e.prototype.ngOnInit=function(){this.registeredTemplate={};for(var e=0,i=this.tags;e<i.length;e++){var n=i[e],r=t.getValue("child"+n.substring(0,1).toUpperCase()+n.substring(1),this);r&&this.tagObjects.push({instance:r,name:n})}for(var s=Object.keys(this),o=0,a=s=s.filter(function(e){return/Ref$/i.test(e)});o<a.length;o++){var l=a[o].replace("Ref","");t.setValue(l.replace("_","."),t.getValue(l,this),this.propCollection)}var p=Object.keys(this);if(this.directivePropList){for(var h=0;h<this.directivePropList.length;h++){var c=this.directivePropList[h];-1!==p.indexOf(c)&&t.setValue(c,t.getValue(c,this),this.propCollection)}this.hasChanges=!0}},e.prototype.registerEvents=function(e){r(e,this,!0)},e.prototype.ngOnChanges=function(e){for(var t=0,i=Object.keys(e);t<i.length;t++){var n=i[t],r=e[n];this.propCollection[n]=r.currentValue}this.isUpdated=!1,this.hasChanges=!0},e.prototype.clearTemplate=function(e){s(this,e)},e.prototype.getProperties=function(){for(var e=0,t=this.tagObjects;e<t.length;e++){var i=t[e];this.propCollection[i.name]=i.instance.getProperties()}return this.propCollection},e.prototype.isChanged=function(){var e=this.hasChanges;if(!t.isNullOrUndefined(this.propCollection[this.property]))for(var i=this.propCollection[this.property],n=Object.keys(i[0]),r=0;r<n.length;r++)if(!t.isNullOrUndefined(this.propCollection[n[r]])){var s=t.getValue(n[r],this),o=this.propCollection[this.property][0][n[r]];t.isNullOrUndefined(s)||this.propCollection[n[r]]===s||o===s||(this.propCollection[this.property][0][n[r]]=s,this.propCollection[n[r]]=s,this.hasChanges=!0,this.isUpdated=!1)}for(var a=0,l=this.tagObjects;a<l.length;a++){var p=l[a];e=e||p.instance.hasChanges}return e||this.hasChanges},e.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();for(var e=Object.keys(this),i=0,n=e=e.filter(function(e){return/Ref$/i.test(e)});i<n.length;i++){var r=n[i].replace("Ref","");t.setValue(r.replace("_","."),t.getValue(r,this),this.propCollection)}},e.prototype.ngAfterViewChecked=function(){this.isUpdated&&(this.hasChanges=!1)},e.prototype.ngOnDestroy=function(){this.directivePropList=[]},e}(),l=function(){function e(e){this.list=[],this.hasChanges=!1,this.propertyName=e}return e.prototype.ngOnInit=function(){this.isInitChanges=!0},e.prototype.ngAfterContentInit=function(){var e=this,t=0;this.list=this.children.map(function(i){return i.dirIndex=t++,i.property=e.propertyName,i}),this.hasChanges=!0},e.prototype.getProperties=function(){for(var e=[],t=0,i=this.list;t<i.length;t++){var n=i[t];e.push(n.getProperties())}return e},e.prototype.isChanged=function(){var e=this,t=!1,i=0,n=!1,r=this.children.map(function(e){return e});if(this.list.length===this.children.length)for(var s=0;s<this.list.length;s++)this.list[s].propCollection.dataSource&&(this.list[s].dataSource&&this.list[s].propCollection.dataSource!==this.list[s].dataSource&&(this.list[s].propCollection.dataSource=this.list[s].dataSource,this.list[s].hasChanges=!0),n=JSON.stringify(this.list[s].propCollection.dataSource)!==JSON.stringify(r[s].propCollection.dataSource));this.hasNewChildren=!(this.list.length===this.children.length&&!n)||null,this.hasNewChildren&&(this.list=this.children.map(function(t){return t.dirIndex=i++,t.property=e.propertyName,t}));for(var o=0,a=this.list;o<a.length;o++){var l=a[o];t=t||l.hasChanges}return!!this.list.length&&t},e.prototype.clearTemplate=function(e){for(var t=this,i=0,n=this.list;i<n.length;i++){n[i].clearTemplate(e&&e.map(function(e){return new RegExp(t.propertyName).test(e)?e.replace(t.propertyName+".",""):e}))}},e.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();for(var e=0;e<this.list.length;e++)this.list[e].isUpdated=!0},e.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},e.prototype.ngOnDestroy=function(){this.list=[]},e}(),p=function(){function e(){this.isProtectedOnChange=!0,this.isFormInit=!0}return e.prototype.saveChanges=function(e,t,i){if(!this.isProtectedOnChange){this.oldProperties[e]=i,this.changedProperties[e]=t,this.finalUpdate();var n=setTimeout(this.dataBind.bind(this));this.finalUpdate=function(){clearTimeout(n)}}},e.prototype.ngOnInit=function(e){var i=e||this;i.registeredTemplate={},i.ngBoundedEvents={},i.isAngular=!0,i.isFormInit=!0,e&&(this.tags=e.tags),i.tags=this.tags||[],i.complexTemplate=this.complexTemplate||[],i.tagObjects=[],i.ngAttr=this.getAngularAttr(i.element),i.createElement=function(e,n){var r=i.srenderer?i.srenderer.createElement(e):t.createElement(e);return void 0===n?r:(r.innerHTML=n.innerHTML?n.innerHTML:"",void 0!==n.className&&(r.className=n.className),void 0!==n.id&&(r.id=n.id),void 0!==n.styles&&r.setAttribute("style",n.styles),void 0!==i.ngAttr&&r.setAttribute(i.ngAttr,""),void 0!==n.attrs&&t.attributes(r,n.attrs),r)};for(var n=0,r=i.tags;n<r.length;n++){var s=r[n],o={instance:t.getValue("child"+s.substring(0,1).toUpperCase()+s.substring(1),i),name:s};i.tagObjects.push(o)}for(var a=Object.keys(i),l=0,p=a=a.filter(function(e){return/Ref$/i.test(e)&&/\_/i.test(e)});l<p.length;l++){var h=p[l].replace("Ref",""),c={};t.setValue(h.replace("_","."),t.getValue(h,i),c),i.setProperties(c,!0)}},e.prototype.getAngularAttr=function(e){for(var t,i=e.attributes,n=i.length,r=0;r<n;r++)/_ngcontent/g.test(i[r].name)&&(t=i[r].name);return t},e.prototype.ngAfterViewInit=function(e){var i=e||this;/ejs-tab|ejs-accordion/g.test(i.ngEle.nativeElement.outerHTML)&&(i.ngEle.nativeElement.style.visibility="hidden");for(var n=Object.keys(i),r=0,s=n=n.filter(function(e){return/Ref$/i.test(e)});r<s.length;r++){var o=s[r].replace("Ref","");t.setValue(o.replace("_","."),t.getValue(o+"Ref",i),i)}setTimeout(function(){"undefined"!=typeof window&&(i.appendTo(i.element),i.ngEle.nativeElement.style.visibility="")})},e.prototype.ngOnDestroy=function(e){var t=e||this;"undefined"!=typeof window&&t.element.classList.contains("e-control")&&(t.destroy(),t.clearTemplate(null),t.ngBoundedEvents={},t.tagObjects={},t.element=null)},e.prototype.clearTemplate=function(e,t){s(this,e,t)},e.prototype.ngAfterContentChecked=function(e){for(var i=e||this,n=0,r=i.tagObjects;n<r.length;n++){var s=r[n];if(!t.isUndefined(s.instance)&&(s.instance.isInitChanges||s.instance.hasChanges||s.instance.hasNewChildren))if(s.instance.isInitChanges){var o={},a=void 0;(V=t.getValue("instance.list",s))&&V.length&&(a=V[0].directivePropList);var l=!0;if(i.getModuleName&&"gantt"===i.getModuleName()&&(l=!1),a&&l&&-1===a.indexOf(s.instance.propertyName))for(var p=Object.keys(s.instance.list[0].propCollection),h=0;h<s.instance.list.length;h++){s.instance.list[h].propCollection[s.instance.propertyName]=[];for(var c={},u=0;u<p.length;u++){c[w=p[u]]=s.instance.list[h].propCollection[w]}for(var g=0;g<s.instance.list[h].tags.length;g++){var f=s.instance.list[h].tags[g],d=t.getValue("child"+f.substring(0,1).toUpperCase()+f.substring(1),s.instance.list[h]);if(d){var v=s.instance.list[h]["child"+f.substring(0,1).toUpperCase()+f.substring(1)];if(v)for(var m=0;m<v.list.length;m++){var y=v.list[0].tags[0];if(y){var C=t.getValue("child"+y.substring(0,1).toUpperCase()+y.substring(1),v.list[m]);C&&v.list[m].tagObjects.push({instance:C,name:y})}}s.instance.list[h].tagObjects.push({instance:d,name:f})}}s.instance.list[h].propCollection[s.instance.propertyName].push(c)}o[s.name]=s.instance.getProperties(),i.setProperties(o,s.instance.isInitChanges)}else{i[s.name].length!==s.instance.list.length&&(i[s.name]=s.instance.list);for(var b=0,O=s.instance.list;b<O.length;b++){for(var V=O[b],E=s.instance.list.indexOf(V),T=t.getValue(s.name,i)[E],N=Object.keys(T),j=0,P=N=N.filter(function(e){return/Ref$/i.test(e)});j<P.length;j++){var w;w=(w=P[j]).replace(/Ref/,""),T.properties[w]=T.properties&&!T.properties[w]?T.propCollection[w]:T.properties[w]}t.isUndefined(T)||t.isUndefined(T.setProperties)||("DashboardLayout"===i.getModuleName()?T.setProperties(V.getProperties(),!0):"diagram"===i.getModuleName()?V.hasChanges?T.setProperties(V.getProperties()):T.setProperties(V.getProperties(),!0):T.setProperties(V.getProperties())),V.isUpdated=!0}}}},e.prototype.registerEvents=function(e){r(e,this)},e.prototype.twoWaySetter=function(e,i){var n=t.getValue(i,this.properties);n!==e&&(this.saveChanges(i,e,n),t.setValue(i,t.isNullOrUndefined(e)?null:e,this.properties),t.getValue(i+"Change",this).emit(e))},e.prototype.addTwoWay=function(e){for(var n=this,r=function(e){t.getValue(e,s),Object.defineProperty(s,e,{get:function(){return t.getValue(e,n.properties)},set:function(t){return n.twoWaySetter(t,e)}}),t.setValue(e+"Change",new i.EventEmitter,s)},s=this,o=0,a=e;o<a.length;o++){r(a[o])}},e.prototype.addEventListener=function(e,i){var n=t.getValue(e,this);t.isUndefined(n)||(this.ngBoundedEvents[e]||(this.ngBoundedEvents[e]=new Map),this.ngBoundedEvents[e].set(i,n.subscribe(i)))},e.prototype.removeEventListener=function(e,i){var n=t.getValue(e,this);t.isUndefined(n)||this.ngBoundedEvents[e].get(i).unsubscribe()},e.prototype.trigger=function(e,i,n){var r=t.getValue(e,this),s=this.isProtectedOnChange;this.isProtectedOnChange=!1,i&&(i.name=e),t.isUndefined(r)||r.next(i);var o=t.getValue("local"+e.charAt(0).toUpperCase()+e.slice(1),this);t.isUndefined(o)||o.call(this,i),this.isProtectedOnChange=s,n&&(this.preventChange=this.isPreventChange,n.call(this,i)),this.isPreventChange=!1},e}(),h=function(){function e(){}return e.prototype.propagateChange=function(e){},e.prototype.propagateTouch=function(){},e.prototype.localChange=function(e){var i=void 0===e.checked?e.value:e.checked;if(this.objCheck=t.isObject(i),!0===this.isUpdated&&(this.angularValue=this.oldValue),!0===this.objCheck)this.duplicateValue=JSON.stringify(i),this.duplicateAngularValue=JSON.stringify(this.angularValue),this.duplicateValue!==this.duplicateAngularValue&&void 0!==this.propagateChange&&void 0!==i&&(this.propagateChange(i),this.angularValue=i);else if(i!==this.angularValue&&void 0!==this.propagateChange&&void 0!==i)if(""!==i&&null!==i)this.propagateChange(i),this.angularValue=i;else{var n=i;this.propagateChange(n),this.angularValue=i}},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){this.propagateTouch=e},e.prototype.twoWaySetter=function(e,i){var n=this.oldValue||t.getValue(i,this.properties),r=this.inputElement||this.element;(n!==e||void 0!==r.value&&""!==r.value)&&(this.saveChanges(i,e,n),t.setValue(i,t.isNullOrUndefined(e)?null:e,this.properties),t.getValue(i+"Change",this).emit(e))},e.prototype.ngAfterViewInit=function(e){var t=e||this;if("undefined"!=typeof window){t.appendTo(t.element);var i=t.inputElement||t.element;i.addEventListener("focus",t.ngOnFocus.bind(t)),i.addEventListener("blur",t.ngOnBlur.bind(t))}this.isFormInit=!1},e.prototype.setDisabledState=function(e){this.enabled=!e,this.disabled=e},e.prototype.writeValue=function(e){void 0===this.checked?this.value=e:"boolean"==typeof e?this.ngEle&&/ejs-radiobutton/g.test(this.ngEle.nativeElement.outerHTML)?this.checked=e===this.value:this.checked=e:this.checked=e===this.value,this.angularValue=e,this.isUpdated=!0,this.preventChange=!this.isFormInit},e.prototype.ngOnFocus=function(e){!0!==this.skipFromEvent&&this.focus.emit(e)},e.prototype.ngOnBlur=function(e){this.propagateTouch(),!0!==this.skipFromEvent&&this.blur.emit(e)},e.isFormBase=!0,e}(),c=t.getTemplateEngine();t.setTemplateEngine({compile:o}),e.ComplexBase=a,e.ArrayBase=l,e.ComponentBase=p,e.FormBase=h,e.applyMixins=n,e.ComponentMixins=function(e){return function(t){n(t,e)}},e.registerEvents=r,e.clearTemplate=s,e.setValue=function(e,t,i){for(var n=e.replace(/\[/g,".").replace(/\]/g,"").split("."),r=i||{},s=0;s<n.length;s++){var o=n[s];s+1===n.length?r[o]=void 0===t?{}:t:void 0===r[o]&&(r[o]={}),r=r[o]}return r},e.compile=o,e.Template=function(e){return function(i,n){var r={set:function(e){return function(i){void 0!==i&&(t.setValue(e+"Ref",i,this),"string"!=typeof i?(i.elementRef.nativeElement._viewContainerRef=this.viewContainerRef,i.elementRef.nativeElement.propName=e):this.saveChanges&&(this.saveChanges(e,i,void 0),this.dataBind()))}}(n),get:function(e,i){return function(){return t.getValue(e+"Ref",this)||i}}(n,e),enumerable:!0,configurable:!0};Object.defineProperty(i,n,r)}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ej2-angular-base.umd.min.js.map
